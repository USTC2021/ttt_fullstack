<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.bootcdn.net/ajax/libs/weui/2.3.0/style/weui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_2127650_ody2ndo6wte.css">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>
<body>
    <div class="movie">
        <div class="movie-head">
            <i class="iconfont icon-fanhui2"></i>
            <span class="title">影片详情</span>
        </div>
        <div class="movie-info">
            <div class="movie-info_desc">
                <div class="info-pic">
                    <img src="https://p0.meituan.net/movie/202ea88abd2abf2aa1964487d61edab64556414.jpg@300w_414h" alt="">
                </div>
                <div class="info-container">
                    <h2 class="name">我和我的家乡</h2>
                    <p class="type">剧情,喜剧 <span></span></p>
                    <p class="timer">中国大陆 / 153分钟</p>
                    <p class="play-time">2020-10-01 08:00中国大陆上映</p>
                    <div class="btn-wrap">
                        <div class="flex" id="watch">
                            <i class="iconfont icon-aixin"></i>
                            想看</div>
                        <div class="flex">
                            <i class="iconfont icon-star"></i>
                            看过</div>
                    </div>
                </div>
            </div>
            <div class="movie-info_rate">
                <div class="rate-title">
                    <div class="rate-title_left">
                        <i class="iconfont icon-maoyandianying"></i>
                        猫眼购票评分
                    </div>
                    <div class="rate-title_right">
                        <span class="want">442,964</span>人想看
                        <span class="watched">326,464</span>人看过
                        <i class="iconfont icon-arrow-left"></i>
                    </div>
                </div>
                <div class="rate-detail">
                    <div class="rate-detail_left">
                        <div class="grade">
                            <h2>9.3</h2>
                            <p><span>668,334</span>人评</p>
                        </div>
                        <div class="star">
                            <ul>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                    </p>
                                    <p class="percent">
                                        <span class="percent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                    </p>
                                    <p class="percent">
                                        <span class="percent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                    </p>
                                    <p class="percent">
                                        <span class="percent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./img/star.png" alt="">
                                        <img src="./img/star.png" alt="">
                                    </p>
                                    <p class="percent">
                                        <span class="percent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./img/star.png" alt="">
                                    </p>
                                    <p class="percent">
                                        <span class="percent-val"></span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="rate-detail_right">
                        <img src="./img/boxList.png" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="movie-desc">
            <p class="content line-clamp">电影《我和我的家乡》定档2020年国庆，延续《我和我的祖国》集体创作的方式，由张艺谋担当总监制，宁浩担任总导演，张一白担任总策划，宁浩、徐峥、陈思诚、闫非&amp;彭大魔、邓超&amp;俞白眉分别执导五个故事</p>
            <p class="arrow">
                <i class="iconfont icon-jiantou"></i>
            </p>
        </div>
        <div class="movie-slogan">
            <a href="#"><img src="./img/slogan.png" alt=""></a>
        </div>
        <div class="movie-actors">
            <h2>演职人员</h2>
            <div class="movie-actors_desc">
                <ul>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/movie/2897ba13cbeae096e05d2ce9ebea2f8037751.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">宁浩</span>
                        <span class="content role">总导演</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/movie/8a5793c16dce09b98c51164cf8419b97134679.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">徐静</span>
                        <span class="content role">导演</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/movie/c6f56b1f058373f25817be00d9b2597237984.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">闫妮</span>
                        <span class="content role">饰 闫飞燕</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p0.meituan.net/movie/3a58a26d0c756324ef9230bb4b2c992f41487.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">刘昊然</span>
                        <span class="content role">饰 小秦</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/moviemachine/8b2f7d5ddaf93d6fa9a1f1a7b9bd3a4940882.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">王源</span>
                        <span class="content role">饰 小韩老师</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/movie/f004f18e8fc1bad9c76e40d194ada6db43947.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">陶虹</span>
                        <span class="content role">饰 姜小虹</span>
                    </li>
                    <li class="movie-actors_desc-content">
                        <img src="http://p1.meituan.net/moviemachine/0d71e37f9e357c86a3cb0af10407b1ce38265.jpg@160w_224h_1e_1c" alt="">
                        <span class="content name">佟丽娅</span>
                        <span class="content role">饰 董文化</span>
                    </li>
                </ul>
            </div>
        </div>
        <!-- toast -->
        <div id="toast">
            <div class="weui-mask_transparent"></div>
            <div class="weui-toast">
                <i class="weui-icon-success-no-circle weui-icon_toast"></i>
                <p class="weui-toast__content">已标注为想看</p>
            </div>
        </div>
    </div>

    <script>
        var watchBtn = document.getElementById('watch')
        var toast = document.getElementById('toast')
        var heart = document.querySelector('.icon-aixin')
        var toastContent = document.querySelector('.weui-toast__content')
        var flag = false

        watchBtn.addEventListener('click', function() { // 回调函数
            // console.log('666')
            toast.style.display = "block"
            if(!flag){
                heart.style.color = "red"
                toastContent.innerHTML = '已标注想看'
            } else {
                heart.style.color = "#fff"
                toastContent.innerHTML = '已取消想看'
            } 

            flag = !flag
            setTimeout(function() {  // 多长时间执行一次
                toast.style.display = "none"
            }, 2000)
        })

        var content = document.querySelector('.movie-desc')
        content.addEventListener('click', function() {
            // 删除dom结构类名, 增加类名
            if (content.querySelector('.content').classList.contains('line-clamp')){
                content.querySelector('.content').classList.remove('line-clamp');
                content.querySelector('.iconfont').classList.add('up');
            } else{
                content.querySelector('.content').classList.add('line-clamp');
                content.querySelector('.iconfont').classList.remove('up');
            }
        })

        var touch = document.querySelector('.movie-actors_desc')
        var handX = 0  // 手指位置
        var picX = 0  // 盒子位置

        touch.addEventListener('touchstart', function(event) {
            handX = event.targetTouches[0].clientX
            picX = event.offsetLeft
            console.log(handX, picX)
        })
        touch.addEventListener( 'touchmove', function(event){
            // 计算手指移动的距离
            var moveX = event.targetTouches[0].clientX - handX;
            // 盒子距离移动的距离
            this.style.left = picX +moveX + 'px'
        })

    </script>
</body>
</html>
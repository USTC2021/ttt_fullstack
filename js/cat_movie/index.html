<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.bootcdn.net/ajax/libs/weui/2.3.0/style/weui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_2127650_rbx7mlfs1da.css">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>
<body>
    <div class="movie">
        <div class="movie-head">
            <i class="iconfont icon-fanhui2"></i>
            <span class="title">影片详情</span>
        </div>
        <div class="movie-info">
            <div class="movie-info_desc">
                <div class="info-pic">
                    <img src="https://p0.meituan.net/movie/202ea88abd2abf2aa1964487d61edab64556414.jpg@300w_414h" alt="">
                </div>
                <div class="info-container">
                    <h2 class="name">我和我的家乡</h2>
                    <p class="type">剧情,喜剧 <span></span></p>
                    <p class="timer">中国大陆 / 153分钟</p>
                    <p class="play-time">2020-10-01 08:00中国大陆上映</p>
                    <div class="btn-wrap">
                        <div class="flex" id="watch">
                            <i class="iconfont icon-aixin"></i>
                            想看</div>
                        <div class="flex">
                            <i class="iconfont icon-star"></i>
                            看过</div>
                    </div>
                </div>
            </div>
            <div class="movie-info_rate">
                <div class="rate-title">
                    <div class="rate-title_left">
                        <i class="iconfont icon-maoyandianying"></i>
                        猫眼购票评分
                    </div>
                    <div class="rate-title_right">
                        <span class="want">442,964</span>人想看
                        <span class="watched">326,464</span>人看过
                        <i class="iconfont icon-arrow-left"></i>
                    </div>
                </div>
                <div class="rate-detail">
                    <div class="rate-detail_left">
                        <div class="grade">
                            <h3>9.2</h3>
                            <p><span>668,334</span>人评</p>
                        </div>
                        <div class="star">
                            <ul>
                                <li class="list">1</li>
                                <li class="list">2</li>
                                <li class="list">3</li>
                                <li class="list">4</li>
                                <li class="list">5</li>
                            </ul>
                        </div>
                    </div>
                    <div class="rate-detail_right">
                        <img src="./img/boxList.png" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="movie-desc"></div>
        <!-- toast -->
        <div id="toast">
            <div class="weui-mask_transparent"></div>
            <div class="weui-toast">
                <i class="weui-icon-success-no-circle weui-icon_toast"></i>
                <p class="weui-toast__content">已标注为想看</p>
            </div>
        </div>
    </div>

    <script>
        var watchBtn = document.getElementById('watch')
        var toast = document.getElementById('toast')
        var heart = document.querySelector('.icon-aixin')
        var toastContent = document.querySelector('.weui-toast__content')
        var flag = false

        watchBtn.addEventListener('click', function() { // 回调函数
            // console.log('666')
            toast.style.display = "block"
            if(!flag){
                heart.style.color = "red"
                toastContent.innerHTML = '已标注想看'
            } else {
                heart.style.color = "#fff"
                toastContent.innerHTML = '已取消想看'
            } 

            flag = !flag
            setTimeout(function() {  // 多长时间执行一次
                toast.style.display = "none"
            }, 2000)
        })
    </script>
</body>
</html>